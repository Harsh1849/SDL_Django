{% load static %}

<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Admin Panel</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">  
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-icons/font/bootstrap-icons.css">
    <link rel="stylesheet" href="{% static 'css/custom.css' %}">
    <link rel="stylesheet" href="{% static 'css/pagination.css' %}">
    <link rel="stylesheet" href="{% static 'css/index.css' %}">
</head>
<body>
    <header>
        <nav class="navbar navbar-dark bg-dark">
            <div class="container justify-content-center">
                <h2 class="navbar-brand">Speed Delivery Logistics</h2>
            </div>
        </nav>
    </header>
    <br>

    <div class="container-fluid my-1">
        <div class="table-responsive">
            <table id="datatable" class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>Date & Time</th>
                        <th>Pincode</th>
                        <th>Sender Name</th>
                        <th>Sender Ph. No.</th>
                        <th>Pickup Address</th>
                        <th>Receiver Name</th>
                        <th>Receiver Ph. No.</th>
                        <th>Delivery Address</th>
                        <th>Weight</th>
                        <th>Per Kg Charge</th>
                        <th>Courier Charge</th>
                        <th>ODA Charge</th>
                        <th>is ODA</th>
                        <th>Total Amount</th>
                    </tr>
                </thead>
            
            
                <tbody>
                    {% for data in context %}
                        <tr>
                            <td>{{data.date_time}}</td>
                            <td>{{data.pincode}}</td>
                            <td>{{data.sender_fname}} {{data.sender_lname}}</td>
                            <td>{{data.sender_pnumber}}</td>
                            <td>{{data.sender_address}}</td>
                            <td>{{data.receiver_fname}} {{data.receiver_lname}}</td>
                            <td>{{data.receiver_pnumber}}</td>
                            <td>{{data.receiver_address}}</td>
                            <td>{{data.weight}}</td>
                            <td>{{data.per_kg_charge}}</td>
                            <td>{{data.courier_charge}}</td>
                            <td>{{data.ODA_charge}}</td>
                            <td class="{% if data.is_ODA %}is-oda-true{% endif %}">{{data.is_ODA}}</td>
                            <td>{{data.total_amount}}</td>
                            
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.4/js/jquery.dataTables.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.4/css/dataTables.bootstrap5.min.css">
    <script>
        $(document).ready(function() {
            $('#datatable').DataTable({
                responsive: true,
                lengthMenu: [ [10, 25, 50, 100, -1], [10, 25, 50, 100, "All"] ],
                pageLength: 100,
                order: [[0, 'dsc']],
            });

            $('#datatable thead th').each(function(index) {
                if (index !== 0) {
                  $(this).off('click');
                  $(this).removeClass('sorting sorting_asc sorting_desc');
                }
            });

        });
    </script>
</body>
</html>
